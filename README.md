# Claudeé…ç½®åˆ‡æ¢å·¥å…· (CCS)

ä¸€ä¸ªç”¨äºåœ¨ä¸åŒçš„ Claude Code API é…ç½®ä¹‹é—´è¿›è¡Œåˆ‡æ¢çš„å‘½ä»¤è¡Œå·¥å…·ã€‚
## Claude code ä¸­è½¬å¯ç”¨æ¨è (æ›´æ–°æ—¶é—´ 2025-08-19)
- ä½¿ç”¨é‚€è¯·ç é€çš„ç§¯åˆ†ä¼šå¤šä¸€äº›ã€‚
1. æ³¨å†Œé€5åˆ€,æ¯å¤©ç­¾åˆ°(éœ€è¦å……å€¼ 30 å…ƒ)é€é¢åº¦  https://claude.husan97x.xyz/register?aff=k02GÂ Â 
1. æ¯å¤©3000ç§¯åˆ†  https://www.aicodemirror.com/register?invitecode=8KTOWC
1. æ³¨å†Œé€1000point  https://aicodeditor.com/register?invitecode=VHE6FK
1. æ³¨å†Œé€5åˆ€  https://ai-router.plugins-world.cn/register?aff=VvoS


## åŠŸèƒ½

- åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„APIé…ç½®å¹¶æç¤ºé€‰æ‹©
  - æ”¯æŒäº¤äº’å¼èœå•ï¼ˆå…‰æ ‡ä¸Šä¸‹ç§»åŠ¨é€‰æ‹©ï¼‰
  - æ”¯æŒæ‰‹åŠ¨è¾“å…¥åºå·
  - **ä¼˜åŒ–çš„ç•Œé¢æ’ç‰ˆ**ï¼šé…ç½®åç§°ã€APIå¯†é’¥ã€URLéƒ½è¿›è¡Œäº†å¯¹é½ç¾åŒ–
  - **å®‰å…¨çš„å¯†é’¥æ˜¾ç¤º**ï¼šAPIå¯†é’¥åªæ˜¾ç¤ºå‰8ä½å’Œå4ä½ï¼Œä¸­é—´ç”¨...ä»£æ›¿
  - **å½©è‰²é«˜äº®æ˜¾ç¤º**ï¼šä¸åŒä¿¡æ¯ç”¨ä¸åŒé¢œè‰²æ ‡è¯†ï¼Œå½“å‰æ¿€æ´»é…ç½®ç”¨âœ“æ ‡è®°
- é€šè¿‡å‘½ä»¤è¡Œç›´æ¥æ·»åŠ æ–°çš„APIé…ç½®
- åˆ‡æ¢å½“å‰ä½¿ç”¨çš„APIé…ç½®
- æ˜¾ç¤ºå½“å‰é…ç½®
- æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
- **æ¨¡å‹è®¾ç½®åŠŸèƒ½**
  - äº¤äº’å¼é€‰æ‹©æˆ–ç›´æ¥è®¾ç½®æ¨¡å‹
  - æ”¯æŒåˆ é™¤æ¨¡å‹è®¾ç½®
  - æŸ¥çœ‹å½“å‰æ¨¡å‹å’Œå¯ç”¨æ¨¡å‹åˆ—è¡¨
- **WebDAVç½‘ç›˜é›†æˆ**
  - é…ç½®WebDAVç½‘ç›˜è¿æ¥è®¾ç½®
  - ä¸Šä¼ é…ç½®æ–‡ä»¶åˆ°WebDAVç½‘ç›˜
  - é…ç½®åˆ‡æ¢åå¯é€‰æ‹©åŒæ­¥åˆ°ç½‘ç›˜
- **ğŸ”” Webhooké€šçŸ¥ç³»ç»Ÿ**
  - ä¸Claude Code Hooksæ·±åº¦é›†æˆ
  - æ”¯æŒé£ä¹¦ã€Slackã€ä¼ä¸šå¾®ä¿¡ã€Discordç­‰ä¸»æµå¹³å°
  - æ™ºèƒ½äº‹ä»¶è¿‡æ»¤ï¼Œåªæ¨é€é‡è¦é€šçŸ¥
  - ç”¨æˆ·äº¤äº’å’Œä»»åŠ¡å®Œæˆå®æ—¶ç›‘æ§
  - ä¸€é”®é…ç½®ï¼Œé›¶å­¦ä¹ æˆæœ¬
- é”™è¯¯å¤„ç†å’Œå¸®åŠ©æç¤º

## å®‰è£…

### æœ¬åœ°å®‰è£…

```bash
npm install -g claude-code-switcher
```

## ä½¿ç”¨æ–¹æ³•

### é…ç½®æ–‡ä»¶

å·¥å…·éœ€è¦ä»¥ä¸‹é…ç½®æ–‡ä»¶ï¼Œéƒ½ä½äº `~/.claude/` ç›®å½•ä¸‹ï¼š

#### 1. apiConfigs.json - APIé…ç½®åˆ—è¡¨

å­˜å‚¨æ‰€æœ‰å¯ç”¨çš„Claude APIé…ç½®ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```json
[
  {
    "name": "wenwen-ai",
    "config": {
      "env": {
        "ANTHROPIC_AUTH_TOKEN": "sk-XXXXXXX",
        "ANTHROPIC_BASE_URL": "https://code.wenwen-ai.com",
        "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1"
      },
      "permissions": {
        "allow": [],
        "deny": []
      }
    }
  },
  {
    "name": "zone",
    "config": {
      "env": {
        "ANTHROPIC_AUTH_TOKEN": "sk-XXXXXXX",
        "ANTHROPIC_BASE_URL": "https://zone.veloera.org/pg",
        "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1"
      },
      "permissions": {
        "allow": [],
        "deny": []
      }
    }
  }
]
```

#### 2. settings.json - å½“å‰æ¿€æ´»é…ç½®

å­˜å‚¨å½“å‰ä½¿ç”¨çš„é…ç½®ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```json
{
  "env": {
    "ANTHROPIC_BASE_URL": "https://zone.veloera.org/pg",
    "ANTHROPIC_AUTH_TOKEN": "sk-XXXXXXX",
    "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1"
  },
  "permissions": {
    "allow": [],
    "deny": []
  },
  "model": "claude-opus-4-20250514"
}
```

**æ³¨æ„**ï¼šåˆ‡æ¢é…ç½®æ—¶ï¼Œæ•´ä¸ª `settings.json` æ–‡ä»¶ä¼šè¢«é€‰ä¸­é…ç½®çš„ `config` å¯¹è±¡å®Œå…¨æ›¿æ¢ã€‚

#### 3. webdav.json - WebDAVç½‘ç›˜é…ç½®ï¼ˆå¯é€‰ï¼‰

å­˜å‚¨WebDAVç½‘ç›˜è¿æ¥è®¾ç½®ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```json
{
  "url": "https://your-webdav-api.com",
  "username": "your-username",
  "password": "your-password"
}
```

#### 4. webhook.json - Webhooké€šçŸ¥é…ç½®ï¼ˆå¯é€‰ï¼‰

å­˜å‚¨webhooké€šçŸ¥è®¾ç½®ï¼Œæ”¯æŒå¤šä¸ªwebhookå¹¶è¡Œæ¨é€ï¼š

```json
{
  "webhooks": [
    {
      "name": "é¡¹ç›®é€šçŸ¥",
      "url": "https://open.feishu.cn/open-apis/bot/v2/hook/your-webhook-id",
      "enabled": true,
      "events": ["claude_hooks"],
      "format": "feishu",
      "retries": 3,
      "timeout": 5000
    }
  ]
}
```

### å‘½ä»¤

#### æ·»åŠ æ–°çš„APIé…ç½®

```bash
ccs add <alias> <key> <url>
```

é€šè¿‡å‘½ä»¤è¡Œç›´æ¥æ·»åŠ æ–°çš„APIé…ç½®åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚

**å‚æ•°è¯´æ˜ï¼š**
- `alias`: é…ç½®åˆ«åï¼Œç”¨äºæ ‡è¯†è¯¥é…ç½®
- `key`: Claude API å¯†é’¥ (å¦‚: sk-xxxxxxx)
- `url`: API åŸºç¡€URL (å¦‚: https://api.example.com)

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```bash
# æ·»åŠ ä¸€ä¸ªæ–°çš„é…ç½®
ccs add my-api sk-xxxxxxxxxxxxxxxx https://api.example.com

# æ·»åŠ wenwen-aié…ç½®
ccs add wenwen-ai sk-xxxxxxxxxxxxxxxx https://code.wenwen-ai.com

# æ·»åŠ zoneé…ç½®
ccs add zone sk-xxxxxxxxxxxxxxxx https://zone.veloera.org/pg
```

**è¾“å‡ºç¤ºä¾‹ï¼š**

```
æˆåŠŸæ·»åŠ é…ç½®: my-api

é…ç½®è¯¦æƒ…:
{
  "name": "my-api",
  "config": {
    "env": {
      "ANTHROPIC_AUTH_TOKEN": "sk-xxxxxxxxxxxxxxxx",
      "ANTHROPIC_BASE_URL": "https://api.example.com",
      "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1"
    },
    "permissions": {
      "allow": [],
      "deny": []
    }
  }
}
```

**æ³¨æ„äº‹é¡¹ï¼š**
- å¦‚æœåˆ«åå·²å­˜åœ¨ï¼Œæ–°é…ç½®å°†è¦†ç›–åŸæœ‰é…ç½®
- æ·»åŠ çš„é…ç½®ä¼šè‡ªåŠ¨åŒ…å«é»˜è®¤çš„æƒé™è®¾ç½®å’Œæ¨¡å‹é…ç½®
- é…ç½®ä¼šç«‹å³ä¿å­˜åˆ° `~/.claude/apiConfigs.json` æ–‡ä»¶ä¸­

#### è¾“å‡ºå½“å‰é…ç½®

```bash
ccs current
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
å½“å‰æ¿€æ´»çš„é…ç½®: zone

é…ç½®è¯¦æƒ…:
{
  "name": "zone",
  "config": {
    "env": {
      "ANTHROPIC_AUTH_TOKEN": "sk-xxxx",
      "ANTHROPIC_BASE_URL": "https://zone.veloera.org/pg",
      "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1",
      "HTTPS_PROXY": "http://127.0.0.1:7890",
      "HTTP_PROXY": "http://127.0.0.1:7890"
    },
    "permissions": {
      "allow": [],
      "deny": []
    }
  }
}
```


#### åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„APIé…ç½®å¹¶æç¤ºé€‰æ‹©

```bash
ccs list
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
? è¯·é€‰æ‹©è¦åˆ‡æ¢çš„é…ç½®: (Use arrow keys)
> 1. [wenwen-ai  ] sk-xxxx...XXXX https://code.wenwen-ai.com       (å½“å‰)
  2. [zone       ] sk-yyyy...YYYY https://zone.veloera.org/pg
  3. [co.yes.vg  ] sk-zzzz...ZZZZ https://co.yes.vg/api
  4. [a-generic  ] sk-aaaa...AAAA https://a-generic.be-a.dev/api
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  è¾“å…¥åºå·...

? è¯·é€‰æ‹©è¦åˆ‡æ¢çš„é…ç½®: 2. [zone       ] sk-yyyy...YYYY https://zone.veloera.org/pg

å½“å‰é€‰æ‹©çš„é…ç½®:
{
  "name": "zone",
  "config": {
    "env": {
      "ANTHROPIC_AUTH_TOKEN": "sk-xxxx",
      "ANTHROPIC_BASE_URL": "https://zone.veloera.org/pg",
      "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1"
    },
    "permissions": {
      "allow": [],
      "deny": []
    }
  }
}

? ç¡®è®¤åˆ‡æ¢åˆ°æ­¤é…ç½®? Yes

æˆåŠŸåˆ‡æ¢åˆ°é…ç½®: zone
```

**äº¤äº’æ–¹å¼**:

1. **å…‰æ ‡é€‰æ‹©**: ä½¿ç”¨é”®ç›˜ä¸Šä¸‹ç®­å¤´é€‰æ‹©é…ç½®ï¼ŒæŒ‰Enterç¡®è®¤
2. **æ‰‹åŠ¨è¾“å…¥**: é€‰æ‹©"è¾“å…¥åºå·..."é€‰é¡¹ï¼Œç„¶åè¾“å…¥é…ç½®çš„åºå·

#### æ‰“å¼€é…ç½®æ–‡ä»¶ä½ç½®

```bash
# æ‰“å¼€APIé…ç½®æ–‡ä»¶
ccs open api

# æ‰“å¼€é…ç½®ç›®å½•
ccs open dir
```

æ­¤å‘½ä»¤æ”¯æŒè·¨å¹³å°ï¼š
- **macOS**: ä½¿ç”¨ `open` å‘½ä»¤
- **Windows**: ä½¿ç”¨ `start` å‘½ä»¤
- **Linux**: ä½¿ç”¨ `xdg-open` å‘½ä»¤

#### ç›´æ¥è®¾ç½®å½“å‰ä½¿ç”¨çš„APIé…ç½®

```bash
ccs use <åºå·>
```

ä¾‹å¦‚ï¼š

```bash
ccs use 2
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
å½“å‰é€‰æ‹©çš„é…ç½®:
{
  "name": "zone",
  "config": {
    "env": {
      "ANTHROPIC_AUTH_TOKEN": "sk-xxxxxx",
      "ANTHROPIC_BASE_URL": "https://zone.veloera.org/pg",
      "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1"
    },
    "permissions": {
      "allow": [],
      "deny": []
    }
  }
}

? ç¡®è®¤åˆ‡æ¢åˆ°æ­¤é…ç½®? Yes

æˆåŠŸåˆ‡æ¢åˆ°é…ç½®: zone
```

#### è®¾ç½®æ¨¡å‹

```bash
# äº¤äº’å¼é€‰æ‹©æ¨¡å‹
ccs model

# ç›´æ¥è®¾ç½®æ¨¡å‹
ccs model claude-opus-4-20250514

# åˆ é™¤æ¨¡å‹è®¾ç½®
ccs model delete
```

**äº¤äº’å¼é€‰æ‹©ç¤ºä¾‹ï¼š**

```
? è¯·é€‰æ‹©è¦è®¾ç½®çš„æ¨¡å‹:
> claude-opus-4-20250514
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  åˆ é™¤æ¨¡å‹è®¾ç½®
  å–æ¶ˆ

æˆåŠŸè®¾ç½®æ¨¡å‹: claude-opus-4-20250514
```

#### æŸ¥çœ‹å½“å‰æ¨¡å‹

```bash
ccs model-current
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
å½“å‰æ¨¡å‹: claude-opus-4-20250514
```

#### åˆ—å‡ºå¯ç”¨æ¨¡å‹

```bash
ccs model-list
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
å¯ç”¨çš„æ¨¡å‹:
  - claude-opus-4-20250514 (å½“å‰)
```

#### WebDAV ç½‘ç›˜åŒæ­¥

```bash
# WebDAV å­å‘½ä»¤æ–¹å¼ï¼ˆæ¨èï¼‰
ccs webdav config          # é…ç½®WebDAVç½‘ç›˜è®¾ç½®
ccs webdav upload          # ä¸Šä¼ é…ç½®åˆ°WebDAVç½‘ç›˜
ccs webdav download        # ä»ç½‘ç›˜ä¸‹è½½é…ç½®
ccs webdav list           # åˆ—å‡ºç½‘ç›˜ä¸­çš„æ–‡ä»¶
ccs webdav sync           # åŒå‘åŒæ­¥é…ç½®

# å…¼å®¹æ€§å‘½ä»¤
ccs webdav-config
ccs webdav-upload
ccs webdav-download
```

#### ğŸ”” Webhook é€šçŸ¥ç®¡ç†

```bash
# Webhook å­å‘½ä»¤æ–¹å¼ï¼ˆæ¨èï¼‰
ccs webhook add <url> [name]     # æ·»åŠ webhook URL
ccs webhook list                 # æ˜¾ç¤ºå½“å‰é…ç½®
ccs webhook push <message>       # æ¨é€æµ‹è¯•æ¶ˆæ¯
ccs webhook hooks               # é…ç½®Claude Code Hooksç›‘å¬
ccs webhook remove              # åˆ é™¤webhooké…ç½®

# å…¼å®¹æ€§å‘½ä»¤
ccs webhook-add <url> [name]
ccs webhook-list
ccs webhook-push <message>
ccs webhook-hooks
ccs webhook-remove
```

**Webhook å¿«é€Ÿé…ç½®ï¼š**

```bash
# 1. æ·»åŠ é£ä¹¦ç¾¤æœºå™¨äºº
ccs webhook add "https://open.feishu.cn/open-apis/bot/v2/hook/your-id" "é¡¹ç›®é€šçŸ¥"

# 2. é…ç½®æ™ºèƒ½ç›‘å¬ï¼ˆäº¤äº’å¼å‘å¯¼ï¼‰
ccs webhook hooks

# 3. æµ‹è¯•æ¨é€
ccs webhook push "ğŸ‰ Claude Code Hooks é…ç½®æˆåŠŸï¼"
```

è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·å‚è€ƒï¼š[Webhook Hooks ä½¿ç”¨æŒ‡å—](./docs/WEBHOOK_HOOKS_GUIDE.md)

#### æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯

```bash
ccs --version
# æˆ–
ccs -v
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
ccs ç‰ˆæœ¬: 1.0.0
```

#### æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

```bash
ccs --help
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
Usage: ccs [options] [command]

Claudeé…ç½®åˆ‡æ¢å·¥å…·

Options:
  -v, --version      æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
  -h, --help         display help for command

Commands:
  list               åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„APIé…ç½®å¹¶æç¤ºé€‰æ‹©
  add <alias> <key> <url>  æ·»åŠ æ–°çš„APIé…ç½®
  use <index>        è®¾ç½®å½“å‰ä½¿ç”¨çš„APIé…ç½®
  current            æ˜¾ç¤ºå½“å‰æ¿€æ´»çš„é…ç½®
  open <type>        æ‰“å¼€é…ç½®æ–‡ä»¶ä½ç½® (type: api|dir)
  model [modelName]  è®¾ç½®æˆ–æŸ¥çœ‹å½“å‰æ¨¡å‹ (å¯é€‰: ç›´æ¥æŒ‡å®šæ¨¡å‹åç§°ï¼Œä½¿ç”¨ "delete" åˆ é™¤æ¨¡å‹è®¾ç½®)
  model-current      æ˜¾ç¤ºå½“å‰è®¾ç½®çš„æ¨¡å‹
  model-list         åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„æ¨¡å‹
  webdva-config      é…ç½®Webdvaç½‘ç›˜è®¾ç½®
  upload             ä¸Šä¼ é…ç½®æ–‡ä»¶åˆ°Webdvaç½‘ç›˜
  help [command]     display help for command
```

#### é”™è¯¯å¤„ç†

å½“è¾“å…¥ä¸å­˜åœ¨çš„å‘½ä»¤æ—¶ï¼Œä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯å’Œå¯ç”¨å‘½ä»¤åˆ—è¡¨ï¼š

```bash
ccs unknown
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
é”™è¯¯: æœªçŸ¥å‘½ä»¤ 'unknown'

å¯ç”¨å‘½ä»¤:
  list
  add
  use
  current
  webdva-config
  upload

ä½¿ç”¨ --help æŸ¥çœ‹æ›´å¤šä¿¡æ¯
```

## æ³¨æ„äº‹é¡¹

- ç¡®ä¿ `~/.claude/apiConfigs.json` å’Œ `~/.claude/settings.json` æ–‡ä»¶å­˜åœ¨å¹¶åŒ…å«æœ‰æ•ˆçš„é…ç½®ä¿¡æ¯
- å·¥å…·ä¼šè‡ªåŠ¨åˆ›å»º `~/.claude` ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
- ç¡®è®¤æ“ä½œæ—¶é»˜è®¤ä¸º"æ˜¯"ï¼Œç›´æ¥æŒ‰Enteré”®å³å¯ç¡®è®¤
- åˆ‡æ¢é…ç½®æ—¶ä¼šå®Œå…¨æ›¿æ¢ `settings.json` æ–‡ä»¶å†…å®¹
